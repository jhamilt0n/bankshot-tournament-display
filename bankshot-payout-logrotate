# Logrotate configuration for Bankshot Tournament Payout Updater
# This file should be placed at: /etc/logrotate.d/bankshot-payout

/var/www/html/payout_updater.log {
    # Rotate when log reaches 10MB OR weekly, whichever comes first
    size 10M
    weekly
    
    # Keep 4 weeks of logs (4 rotations)
    rotate 4
    
    # Compress old logs to save space (using gzip)
    compress
    
    # Delay compression until next rotation (keeps most recent backup uncompressed)
    delaycompress
    
    # Don't error if log file is missing
    missingok
    
    # Don't rotate if log is empty
    notifempty
    
    # Create new log file with these permissions after rotation
    create 0644 www-data www-data
    
    # Run these commands after rotation
    postrotate
        # No need to restart anything - script will create new log automatically
    endscript
}
